<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Power Outage Learning Hub</title>

<style>
/* ===============================
   GLOBAL COLOR THEME
================================*/
:root {
  --primary: #4169E1; /* Royal Blue */
  --accent: #32CD32;  /* Safety Green */
  --safety-orange: #FF8C00; /* Alert Orange */
  --mint: #D3D3D3;    /* Light Gray */
  --soft-bg: #FFFFFF; 
  --card-bg: #FFFFFF; 
  --text: #000000;    
  --radius: 14px;
}

/* ===============================
   BACKGROUND LAYERS
================================*/
body {
  margin: 0;
  font-family: 'Poppins', sans-serif;
  color: var(--text);
  overflow-x: hidden;
  /* Base color and Grid Texture */
  background-color: #fffcf5;
  background-image: 
    linear-gradient(rgba(255, 140, 0, 0.05) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255, 140, 0, 0.05) 1px, transparent 1px);
  background-size: 25px 25px;
  position: relative;
}

/* The Flowing Lightning Bolts (Full Page Overlay) */
.background-fx {
  position: fixed;
  top: 0; left: 0; width: 100%; height: 100%;
  z-index: 0; /* Behind content, above body background */
  pointer-events: none; /* Click-through */
  
  /* Faded Lightning Bolt Pattern */
  background-image: url("data:image/svg+xml,%3Csvg width='80' height='80' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 5 L18 30 L28 30 L22 55 L42 25 L32 25 Z' fill='%23FF8C00' fill-opacity='0.08'/%3E%3C/svg%3E");
  background-size: 80px 80px;
  animation: boltFlow 20s linear infinite;
}

@keyframes boltFlow {
  from { background-position: 0 0; }
  to { background-position: 0 80px; }
}

/* Ensure Content sits above the background animation */
.container, header, footer, .mascot {
  position: relative;
  z-index: 1; 
}

/* ===============================
   HEADER
================================*/
header {
  background-color: #1e2a38;
  border-bottom: 4px solid var(--safety-orange);
  padding: 20px 0;
  box-shadow: 0 4px 20px rgba(0,0,0,0.1);
  position: sticky;
  top: 0;
  z-index: 999;
}

.header-content {
  width: 90%;
  max-width: 1000px;
  margin: auto;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

@media (max-width: 768px) {
  .header-content { flex-direction: column; text-align: center; gap: 15px; }
  nav { width: 100%; justify-content: center; }
}

.logo-section { display: flex; flex-direction: column; }

header h1 {
  margin: 0; font-size: 1.8em; color: #ffffff; font-weight: 700;
  letter-spacing: 0.5px; display: flex; align-items: center; gap: 10px;
}

.tagline {
  color: #aab7c4; font-size: 0.85em; text-transform: uppercase;
  letter-spacing: 1.5px; margin-top: 4px; font-weight: 500;
}

nav { display: flex; gap: 10px; align-items: center; }

nav a {
  color: #e0e6ed; background: rgba(255,255,255,0.05); padding: 8px 16px;
  border-radius: 8px; font-size: 0.9em; font-weight: 600; text-decoration: none;
  transition: all 0.3s ease; border: 1px solid transparent;
}

nav a:hover {
  background: rgba(255, 140, 0, 0.15); color: var(--safety-orange);
  border-color: var(--safety-orange);
}

.lang-btn {
  background: var(--safety-orange); color: white; border: none; padding: 8px 12px;
  border-radius: 6px; cursor: pointer; font-weight: 700; font-size: 0.85em;
  margin-left: 15px; transition: 0.2s;
}
.lang-btn:hover { background: #e07b00; }

/* ===============================
   CONTAINER
================================*/
.container { width: 90%; max-width: 1000px; margin: auto; padding: 40px 0; }

section h2 {
  color: var(--primary); text-shadow: 0 0 6px rgba(65,105,225,0.2);
  border-left: 5px solid var(--safety-orange); padding-left: 15px;
}

/* ===============================
   CARDS (Cleaned up)
================================*/
.cards { display: grid; grid-template-columns: repeat(3, 1fr); gap: 30px; margin: 40px 0 60px 0; }
@media (max-width: 900px) { .cards { grid-template-columns: repeat(2, 1fr); } }
@media (max-width: 600px) { .cards { grid-template-columns: 1fr; } }

.card {
  background-color: var(--card-bg);
  padding: 20px; 
  border-radius: var(--radius); 
  cursor: pointer;
  transition: 0.3s ease; 
  position: relative; 
  overflow: hidden; 
  border: 1px solid #eaeaea;
  border-top: 5px solid var(--safety-orange); 
  box-shadow: 0 4px 10px rgba(0,0,0,0.03);
}

.card:hover {
  transform: translateY(-6px); 
  box-shadow: 0 12px 25px rgba(255, 140, 0, 0.25);
  border-color: var(--safety-orange);
}

.card-title { font-size: 1.3em; margin-bottom: 8px; font-weight: 600; color: var(--text); display: flex; align-items: center; gap: 8px; }
.card-content { display: none; color: var(--text); margin-top: 12px; padding-top: 12px; border-top: 1px dashed #ddd; }
.card.expanded .card-content { display: block; }

/* ===============================
   QUIZ
================================*/
.quiz {
  background: var(--card-bg); padding: 25px; border-radius: var(--radius);
  box-shadow: 0 10px 18px rgba(0,0,0,0.05); border-top: 6px solid var(--mint); margin-bottom: 80px;
}
.quiz-question { margin-bottom: 25px; padding-bottom: 15px; border-bottom: 1px dashed #eee; }
.quiz-question h4 { margin: 0 0 12px 0; color: var(--primary); }

.quiz-options label {
  display: block; margin-bottom: 8px; cursor: pointer; padding: 10px;
  border-radius: 8px; transition: 0.2s; border: 1px solid transparent;
}
.quiz-options label:hover { background: #f0f4f8; }
.quiz-options label.correct-answer { background-color: #d4edda; border-color: #c3e6cb; color: #155724; font-weight: 600; }
.quiz-options label.wrong-answer { background-color: #f8d7da; border-color: #f5c6cb; color: #721c24; opacity: 0.7; }

.quiz-explanation {
  margin-top: 10px; padding: 10px; background: #fff3cd; border-left: 4px solid #ffc107;
  font-size: 0.9em; color: #856404; display: none; border-radius: 4px;
  animation: slideDown 0.3s ease-out;
}
@keyframes slideDown { from { opacity: 0; transform: translateY(-5px); } to { opacity: 1; transform: translateY(0); } }

button {
  background: var(--primary); color: var(--soft-bg); padding: 12px 22px;
  border: none; border-radius: var(--radius); font-size: 1em; font-weight: 600;
  cursor: pointer; margin-top: 15px; transition: 0.3s;
}
button:hover { background: var(--accent); box-shadow: 0 0 12px var(--accent); }

.feedback { margin-top: 15px; padding: 12px; background: var(--mint); border-radius: var(--radius); display: none; font-weight: 600; color: var(--primary); }


/* ===============================
   SIMULATOR
================================*/
.sim-wrapper {
  background: #f2f6ff; padding: 20px; border-radius: 14px;
  box-shadow: 0 8px 24px rgba(15,23,36,0.06); margin-bottom: 80px;
  border: 1px solid #eef2f7; color: #0f1724;
}

.sim-lead { text-align:center; color:#555; margin-top:0; font-size: 0.95em; }
.sim-grid { display:grid; grid-template-columns:1fr; gap:14px; }
@media(min-width:900px){ .sim-grid{grid-template-columns:1fr 1fr} }

.sim-card {
  background:#fff; padding:14px; border-radius:12px; 
  box-shadow:0 2px 8px rgba(2,6,23,0.04); border: 1px solid #eaeaea;
}

.sim-label { display:flex; justify-content:space-between; align-items:center; margin-bottom:8px; font-weight:600; }
.sim-small { font-size:13px; color:#555; }
.sim-card input[type=range] { width:100%; margin: 10px 0; cursor: pointer; }

/* Results Box - Light Theme */
.sim-results { 
  padding:18px; border-radius:12px; margin-top:12px; transition:background .25s;
  background: #d5f8d5; color: #333;
}

.sim-result-row { display:flex; justify-content:space-between; align-items:center; padding:8px 0; border-bottom:1px dashed #aaa; }
.sim-result-row:last-child { border-bottom:none; }
.sim-result-title { display:flex; gap:8px; align-items:center; font-weight: 500;}
.sim-result-number { font-weight:700; }
.sim-equiv { font-size:13px; color:#555; }
.sim-risk { margin-top:10px; font-weight:700; }

/* ===============================
   MASCOT & SPARKS
================================*/
.electric-spark {
  position: fixed; width: 6px; height: 6px; background: var(--safety-orange);
  border-radius: 50%; opacity: 0; pointer-events: none;
  box-shadow: 0 0 8px var(--safety-orange); animation: sparkPulse 0.4s ease-out forwards; z-index: 9999;
}
@keyframes sparkPulse { 0% { opacity: 0; transform: scale(0.5); } 50% { opacity: 1; transform: scale(1.2); } 100% { opacity: 0; transform: scale(0.5); } }

.mascot {
  position: fixed; bottom: 20px; right: 20px; width: 120px; height: 120px;
  background: url('https://i.imgur.com/OtL7W0x.png') center/contain no-repeat;
  animation: bounceMascot 2s infinite ease-in-out; cursor: pointer; z-index: 1000;
}
@keyframes bounceMascot { 0%,100% { transform: translateY(0); } 50% { transform: translateY(-8px); } }

.mascot-tip {
  position: fixed; bottom: 155px; right: 35px; background: var(--soft-bg);
  padding: 12px 18px; border-radius: var(--radius); box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  font-size: 0.9em; display: none; width: 180px; color: var(--text); z-index: 1000;
}
footer { text-align: center; padding: 25px; margin-top: 50px; background: #fdf7eb; font-size: 0.9em; color: var(--text); }
</style>
</head>

<body>

<div class="background-fx"></div>

<header>
  <div class="header-content">
    <div class="logo-section">
      <h1>üí° <span data-i18n="headerTitle">EduPower</span></h1>
      <span class="tagline" data-i18n="headerTagline">Education ‚Ä¢ Awareness ‚Ä¢ Safety</span>
    </div>
    <nav>
      <a href="index.html" data-i18n="navHome">Home</a>
      <a href="outage.html" data-i18n="navOutage">Outage Status</a>
      <a href="education6.html" data-i18n="navHub">Education Hub</a>
      <button class="lang-btn" onclick="toggleLanguage()">FR | EN</button>
    </nav>
  </div>
</header>

<div class="container">

  <section id="cards">
    <h2 data-i18n="cardsTitle">Interactive Cards</h2>
    <p data-i18n="cardsDesc">Click a card to reveal power outage safety tips.</p>
    <div class="cards">
      <div class="card"><div class="card-title">üí° <span data-i18n="card1Title">Emergency Lighting</span></div><div class="card-content"><p data-i18n="card1Text">Always keep flashlights or candles ready.</p></div></div>
      <div class="card"><div class="card-title">‚ö° <span data-i18n="card2Title">Safety First</span></div><div class="card-content"><p data-i18n="card2Text">Turn off appliances to avoid surges.</p></div></div>
      <div class="card"><div class="card-title">üåü <span data-i18n="card3Title">Tips & Tricks</span></div><div class="card-content"><p data-i18n="card3Text">Check your emergency kit and signal safety zones.</p></div></div>
      <div class="card"><div class="card-title">üïØÔ∏è <span data-i18n="card4Title">Candle Safety</span></div><div class="card-content"><p data-i18n="card4Text">Never leave candles unattended during a blackout.</p></div></div>
      <div class="card"><div class="card-title">üîå <span data-i18n="card5Title">Power Management</span></div><div class="card-content"><p data-i18n="card5Text">Unplug sensitive electronics to prevent damage.</p></div></div>
      <div class="card"><div class="card-title">üì± <span data-i18n="card6Title">Communication</span></div><div class="card-content"><p data-i18n="card6Text">Keep phones charged and use only essential calls.</p></div></div>
    </div>
  </section>

  <section id="quiz" class="quiz">
    <h2 data-i18n="quizTitle">Power Outage Quiz</h2>
    <p data-i18n="quizDesc">Choose the best answer for each question:</p>
    
    <div class="quiz-question" id="q1-box">
      <h4 data-i18n="q1_text">1. What is the safest light to use during a power outage?</h4>
      <div class="quiz-options">
        <label class="option-label"><input type="radio" name="q1" value="wrong"><span data-i18n="q1_a">Candles</span></label>
        <label class="option-label" id="q1-correct"><input type="radio" name="q1" value="correct"><span data-i18n="q1_b">Flashlights</span></label>
        <label class="option-label"><input type="radio" name="q1" value="wrong"><span data-i18n="q1_c">Matches</span></label>
      </div>
      <div class="quiz-explanation" id="q1-explain" data-i18n="q1_expl">Tip: Candles are fire hazards! Flashlights are always safer.</div>
    </div>

    <div class="quiz-question" id="q2-box">
      <h4 data-i18n="q2_text">2. What should you do with the refrigerator door when the power is out?</h4>
      <div class="quiz-options">
        <label class="option-label"><input type="radio" name="q2" value="wrong"><span data-i18n="q2_a">Open it often</span></label>
        <label class="option-label"><input type="radio" name="q2" value="wrong"><span data-i18n="q2_b">Leave it wide open</span></label>
        <label class="option-label" id="q2-correct"><input type="radio" name="q2" value="correct"><span data-i18n="q2_c">Keep it closed</span></label>
      </div>
      <div class="quiz-explanation" id="q2-explain" data-i18n="q2_expl">Tip: Opening the door lets cold air out. Keep it shut to save your food.</div>
    </div>

    <div class="quiz-question" id="q3-box">
      <h4 data-i18n="q3_text">3. If you see a wire fall down outside, what should you do?</h4>
      <div class="quiz-options">
        <label class="option-label"><input type="radio" name="q3" value="wrong"><span data-i18n="q3_a">Touch it</span></label>
        <label class="option-label" id="q3-correct"><input type="radio" name="q3" value="correct"><span data-i18n="q3_b">Stay far away</span></label>
        <label class="option-label"><input type="radio" name="q3" value="wrong"><span data-i18n="q3_c">Move it with a stick</span></label>
      </div>
      <div class="quiz-explanation" id="q3-explain" data-i18n="q3_expl">Tip: Never touch downed wires. Electricity can travel through sticks!</div>
    </div>

    <div class="quiz-question" id="q4-box">
      <h4 data-i18n="q4_text">4. What should you do with TVs and computers when the power goes out?</h4>
      <div class="quiz-options">
        <label class="option-label" id="q4-correct"><input type="radio" name="q4" value="correct"><span data-i18n="q4_a">Unplug them</span></label>
        <label class="option-label"><input type="radio" name="q4" value="wrong"><span data-i18n="q4_b">Leave them on</span></label>
        <label class="option-label"><input type="radio" name="q4" value="wrong"><span data-i18n="q4_c">Cover them with blankets</span></label>
      </div>
      <div class="quiz-explanation" id="q4-explain" data-i18n="q4_expl">Tip: Power often returns with a 'surge' that can fry sensitive electronics.</div>
    </div>

    <div class="quiz-question" id="q5-box">
      <h4 data-i18n="q5_text">5. If you have a generator, where should you run it?</h4>
      <div class="quiz-options">
        <label class="option-label"><input type="radio" name="q5" value="wrong"><span data-i18n="q5_a">In the kitchen</span></label>
        <label class="option-label"><input type="radio" name="q5" value="wrong"><span data-i18n="q5_b">In the garage</span></label>
        <label class="option-label" id="q5-correct"><input type="radio" name="q5" value="correct"><span data-i18n="q5_c">Outside, far from windows</span></label>
      </div>
      <div class="quiz-explanation" id="q5-explain" data-i18n="q5_expl">Danger: Generators produce deadly Carbon Monoxide. Never use indoors.</div>
    </div>

    <div class="quiz-question" id="q6-box">
      <h4 data-i18n="q6_text">6. Why is it important to store water before a storm?</h4>
      <div class="quiz-options">
        <label class="option-label" id="q6-correct"><input type="radio" name="q6" value="correct"><span data-i18n="q6_a">Electric water pumps might stop</span></label>
        <label class="option-label"><input type="radio" name="q6" value="wrong"><span data-i18n="q6_b">To water the plants</span></label>
        <label class="option-label"><input type="radio" name="q6" value="wrong"><span data-i18n="q6_c">Water expires quickly</span></label>
      </div>
      <div class="quiz-explanation" id="q6-explain" data-i18n="q6_expl">Tip: Many homes use electric pumps. If power fails, taps run dry.</div>
    </div>

    <button id="checkAnswers" data-i18n="btnCheck">Check My Answers</button>
    <div class="feedback" id="feedback"></div>
  </section>

  <section id="simulator">
    <h2 data-i18n="simTitle">Energy Consumption Simulator</h2>
    <div class="sim-wrapper">
        <p class="sim-lead" data-i18n="simDesc">Use the sliders to estimate monthly kWh and receive your Energy Consumption risk level.</p>
        <div class="sim-grid">
          <div>
            <div class="sim-card"><div class="sim-label"><span data-i18n="lblFan">üåÄ Fan (hours/day)</span> <span id="fanValue">6</span></div><input type="range" min="0" max="24" value="6" id="fanSlider" /><div class="sim-small"><span data-i18n="pwrTyp">Typical power:</span> <strong>60 W</strong></div></div>
            <div class="sim-card" style="margin-top:12px"><div class="sim-label"><span data-i18n="lblShower">üöø Water Heater (mins)</span> <span id="showerValue">8</span></div><input type="range" min="0" max="20" value="8" id="showerSlider" /><div class="sim-small"><span data-i18n="pwrTyp">Typical power:</span> <strong>2000 W</strong></div></div>
            <div class="sim-card" style="margin-top:12px"><div class="sim-label"><span data-i18n="lblFridge">üßä Fridge Level (1‚Äì7)</span> <span id="fridgeValue">3</span></div><input type="range" min="1" max="7" value="3" id="fridgeSlider" /><div class="sim-small"><span data-i18n="pwrBase">Base consumption:</span> <strong>30 kWh</strong></div></div>
            <div class="sim-card" style="margin-top:12px"><div class="sim-label"><span data-i18n="lblAC">‚ùÑÔ∏è AC (hours/day)</span> <span id="acValue">4</span></div><input type="range" min="0" max="24" value="4" id="acSlider" /><div class="sim-small"><span data-i18n="pwrTyp">Typical power:</span> <strong>1.2 kW</strong></div></div>
            <div class="sim-card" style="margin-top:12px"><div class="sim-label"><span data-i18n="lblOven">üçû Oven (mins/day)</span> <span id="ovenValue">30</span></div><input type="range" min="0" max="120" value="30" id="ovenSlider" /><div class="sim-small"><span data-i18n="pwrTyp">Typical power:</span> <strong>2 kW</strong></div></div>
          </div>
          <div>
            <div class="sim-card"><div class="sim-label"><span data-i18n="lblWash">üß∫ Washer (cycles/wk)</span> <span id="washValue">3</span></div><input type="range" min="0" max="14" value="3" id="washSlider" /><div class="sim-small"><span data-i18n="engTyp">Typical energy:</span> <strong>1.0 kWh</strong></div></div>
            <div class="sim-card" style="margin-top:12px"><div class="sim-label"><span data-i18n="lblDish">üçΩÔ∏è Dishwasher (cycles/wk)</span> <span id="dishValue">2</span></div><input type="range" min="0" max="14" value="2" id="dishSlider" /><div class="sim-small"><span data-i18n="engTyp">Typical energy:</span> <strong>1.5 kWh</strong></div></div>
            <div class="sim-card" style="margin-top:12px"><div class="sim-label"><span data-i18n="lblStove">üç≥ Electric Stove (mins)</span> <span id="stoveValue">20</span></div><input type="range" min="0" max="180" value="20" id="stoveSlider" /><div class="sim-small"><span data-i18n="pwrTyp">Typical power:</span> <strong>2 kW</strong></div></div>
            <div class="sim-card" style="margin-top:12px"><div class="sim-label"><span data-i18n="lblPump">üíß Water Pump (mins)</span> <span id="pumpValue">15</span></div><input type="range" min="0" max="60" value="15" id="pumpSlider" /><div class="sim-small"><span data-i18n="pwrTyp">Typical power:</span> <strong>0.75 kW</strong></div></div>
          </div>
        </div>
    
        <div id="resultsBox" class="sim-results sim-card">
          <h3 style="margin:0 0 8px 0;" data-i18n="resMonthly">Estimated Monthly Usage</h3>
          <div class="sim-result-row"><div class="sim-result-title" data-i18n="lblFan">üåÄ Fan</div><div><div class="sim-result-number" id="fanKwh">0</div><div class="sim-equiv" id="fanEquivalent"></div></div></div>
          <div class="sim-result-row"><div class="sim-result-title" data-i18n="lblShower">üöø Water Heater</div><div><div class="sim-result-number" id="showerKwh">0</div><div class="sim-equiv" id="showerEquivalent"></div></div></div>
          <div class="sim-result-row"><div class="sim-result-title" data-i18n="lblFridge">üßä Fridge</div><div><div class="sim-result-number" id="fridgeKwh">0</div><div class="sim-equiv" id="fridgeEquivalent"></div></div></div>
          <div class="sim-result-row"><div class="sim-result-title" data-i18n="lblAC">‚ùÑÔ∏è AC</div><div><div class="sim-result-number" id="acKwh">0</div><div class="sim-equiv" id="acEquivalent"></div></div></div>
          <div class="sim-result-row"><div class="sim-result-title" data-i18n="lblOven">üçû Oven</div><div><div class="sim-result-number" id="ovenKwh">0</div><div class="sim-equiv" id="ovenEquivalent"></div></div></div>
          <div class="sim-result-row"><div class="sim-result-title" data-i18n="lblWash">üß∫ Washer</div><div><div class="sim-result-number" id="washKwh">0</div><div class="sim-equiv" id="washEquivalent"></div></div></div>
          <div class="sim-result-row"><div class="sim-result-title" data-i18n="lblDish">üçΩÔ∏è Dishwasher</div><div><div class="sim-result-number" id="dishKwh">0</div><div class="sim-equiv" id="dishEquivalent"></div></div></div>
          <div class="sim-result-row"><div class="sim-result-title" data-i18n="lblStove">üç≥ Stove</div><div><div class="sim-result-number" id="stoveKwh">0</div><div class="sim-equiv" id="stoveEquivalent"></div></div></div>
          <div class="sim-result-row"><div class="sim-result-title" data-i18n="lblPump">üíß Water Pump</div><div><div class="sim-result-number" id="pumpKwh">0</div><div class="sim-equiv" id="pumpEquivalent"></div></div></div>
    
          <hr style="margin:12px 0; border: 0; border-top: 1px solid #aaa;" />
          <div style="display:flex; justify-content:space-between; align-items:center">
            <div>
              <div class="sim-small" data-i18n="resTotal">Total monthly consumption</div>
              <div class="sim-result-number" id="totalKwh">0</div>
              <div class="equiv" id="TotalEquivalent" style="font-weight:bold; color:#2b6cb0; margin-top:5px; font-size:1.1em;"></div>
            </div>
            <div style="text-align:right">
              <div class="sim-risk" id="riskLevel"></div>
              <div class="sim-small" id="compareText"></div>
            </div>
          </div>
        </div>
    </div>
  </section>

</div>

<div class="mascot"></div>
<div class="mascot-tip" data-i18n="mascotTip">Click cards to learn safety tips! ‚ö°</div>

<script>
/* ===============================
   TRANSLATIONS
================================*/
const translations = {
  en: {
    headerTitle: "EduHub", headerTagline: "Education ‚Ä¢ Awareness ‚Ä¢ Safety",
    navTips: "Home", navSim: "Outage Status", navQuiz: "Education Hub",
    cardsTitle: "Interactive Cards", cardsDesc: "Click a card to reveal power outage safety tips.",
    card1Title: "Emergency Lighting", card1Text: "Always keep flashlights or candles ready.",
    card2Title: "Safety First", card2Text: "Turn off appliances to avoid surges.",
    card3Title: "Tips & Tricks", card3Text: "Check your emergency kit and signal safety zones.",
    card4Title: "Candle Safety", card4Text: "Never leave candles unattended during a blackout.",
    card5Title: "Power Management", card5Text: "Unplug sensitive electronics to prevent damage.",
    card6Title: "Communication", card6Text: "Keep phones charged and use only essential calls.",
    simTitle: "Energy Consumption Simulator",
    simDesc: "Use the sliders to estimate monthly kWh and receive your Energy Consumption risk level.",
    lblFan: "üåÄ Fan (hours/day)", lblShower: "üöø Water Heater (mins)", lblFridge: "üßä Fridge Level (1‚Äì7)",
    lblAC: "‚ùÑÔ∏è AC (hours/day)", lblOven: "üçû Oven (mins/day)", lblWash: "üß∫ Washer (cycles/wk)",
    lblDish: "üçΩÔ∏è Dishwasher (cycles/wk)", lblStove: "üç≥ Electric Stove (mins)", lblPump: "üíß Water Pump (mins)",
    pwrTyp: "Typical power:", pwrBase: "Base consumption:", engTyp: "Typical energy:",
    resMonthly: "Estimated Monthly Usage", resTotal: "Total monthly consumption",
    totalBill: "Total Monthly Bill",
    
    quizTitle: "Power Outage Quiz", quizDesc: "Choose the best answer for each question:",
    q1_text: "1. What is the safest light to use during a power outage?", q1_a: "Candles", q1_b: "Flashlights", q1_c: "Matches", q1_expl: "Tip: Candles are fire hazards! Flashlights are always safer.",
    q2_text: "2. What should you do with the refrigerator door when the power is out?", q2_a: "Open it often", q2_b: "Leave it wide open", q2_c: "Keep it closed", q2_expl: "Tip: Opening the door lets cold air out. Keep it shut to save your food.",
    q3_text: "3. If you see a wire fall down outside, what should you do?", q3_a: "Touch it", q3_b: "Stay far away", q3_c: "Move it with a stick", q3_expl: "Tip: Never touch downed wires. Electricity can travel through sticks!",
    q4_text: "4. What should you do with TVs and computers when the power goes out?", q4_a: "Unplug them", q4_b: "Leave them on", q4_c: "Cover them with blankets", q4_expl: "Tip: Power often returns with a 'surge' that can fry sensitive electronics.",
    q5_text: "5. If you have a generator, where should you run it?", q5_a: "In the kitchen", q5_b: "In the garage", q5_c: "Outside, far from windows", q5_expl: "Danger: Generators produce deadly Carbon Monoxide. Never use indoors.",
    q6_text: "6. Why is it important to store water before a storm?", q6_a: "Electric water pumps might stop", q6_b: "To water the plants", q6_c: "Water expires quickly", q6_expl: "Tip: Many homes use electric pumps. If power fails, taps run dry.",

    btnCheck: "Check My Answers", aboutTitle: "About This Template", aboutText: "This interactive template uses Royal Blue, Light Gray, and Safety Green to convey a power outage theme.",
    footer: "¬© 2025 Power Outage Interactive Template | HTML, CSS & JavaScript", mascotTip: "Click cards to learn safety tips! ‚ö°",
    costPrefix: "Costs about Rs", costSuffix: "/ month",
    riskLow: "üü¢ Low usage (Energy efficient)", riskNormal: "üü° Normal usage (Around Mauritius avg)",
    riskHigh: "üü† High usage", riskVeryHigh: "üî¥ Very high usage (Expensive bill)",
    compareAbove: "kWh above Mauritius avg", compareBelow: "kWh below Mauritius avg"
  },
  fr: {
    headerTitle: "EduHub", headerTagline: "√âducation ‚Ä¢ Sensibilisation ‚Ä¢ S√©curit√©",
    navTips: "Page d'accueil", navSim: "Statut de panne", navQuiz: "Centre d'√©ducation",
    cardsTitle: "Cartes Interactives", cardsDesc: "Cliquez sur une carte pour r√©v√©ler des conseils de s√©curit√©.",
    card1Title: "√âclairage d'Urgence", card1Text: "Gardez toujours des lampes de poche ou des bougies pr√™tes.",
    card2Title: "S√©curit√© d'Abord", card2Text: "√âteignez les appareils pour √©viter les surtensions.",
    card3Title: "Trucs & Astuces", card3Text: "V√©rifiez votre kit d'urgence et les zones de s√©curit√©.",
    card4Title: "S√©curit√© Bougies", card4Text: "Ne laissez jamais de bougies sans surveillance.",
    card5Title: "Gestion √ânergie", card5Text: "D√©branchez les appareils sensibles pour √©viter les dommages.",
    card6Title: "Communication", card6Text: "Gardez les t√©l√©phones charg√©s et limitez les appels.",
    simTitle: "Simulateur de Consommation",
    simDesc: "Utilisez les curseurs pour estimer les kWh mensuels et voir votre niveau de risque.",
    lblFan: "üåÄ Ventilateur (h/jour)", lblShower: "üöø Chauffe-eau (mins)", lblFridge: "üßä R√©frig√©rateur (1‚Äì7)",
    lblAC: "‚ùÑÔ∏è Climatiseur (h/jour)", lblOven: "üçû Four (mins/jour)", lblWash: "üß∫ Lave-linge (cycles/sem)",
    lblDish: "üçΩÔ∏è Lave-vaisselle (cycles/sem)", lblStove: "üç≥ Cuisini√®re (mins)", lblPump: "üíß Pompe √† eau (mins)",
    pwrTyp: "Puissance typique:", pwrBase: "Conso. de base:", engTyp: "√ânergie typique:",
    resMonthly: "Utilisation Mensuelle Estim√©e", resTotal: "Consommation mensuelle totale",
    totalBill: "Facture Mensuelle",

    quizTitle: "Quiz Pannes de Courant", quizDesc: "Choisissez la meilleure r√©ponse :",
    q1_text: "1. Quelle est la lumi√®re la plus s√ªre pendant une panne ?", q1_a: "Bougies", q1_b: "Lampes de poche", q1_c: "Allumettes", q1_expl: "Conseil : Les bougies causent des incendies ! Les lampes de poche sont plus s√ªres.",
    q2_text: "2. Que faire avec la porte du r√©frig√©rateur pendant une panne ?", q2_a: "L'ouvrir souvent", q2_b: "La laisser ouverte", q2_c: "La garder ferm√©e", q2_expl: "Conseil : Ouvrir la porte laisse sortir le froid. Gardez-la ferm√©e.",
    q3_text: "3. Si vous voyez un fil √©lectrique tomber, que faites-vous ?", q3_a: "Le toucher", q3_b: "Rester loin", q3_c: "Le bouger avec un b√¢ton", q3_expl: "Conseil : Ne touchez jamais les fils. L'√©lectricit√© traverse le bois !",
    q4_text: "4. Que faire des TV et ordinateurs lors d'une panne ?", q4_a: "Les d√©brancher", q4_b: "Les laisser allum√©s", q4_c: "Les couvrir", q4_expl: "Conseil : Le courant revient souvent avec une surtension qui peut griller les appareils.",
    q5_text: "5. Si vous avez un g√©n√©rateur, o√π devez-vous l'utiliser ?", q5_a: "Dans la cuisine", q5_b: "Dans le garage", q5_c: "Dehors, loin des fen√™tres", q5_expl: "Danger : Les g√©n√©rateurs produisent du monoxyde de carbone, un gaz mortel.",
    q6_text: "6. Pourquoi stocker de l'eau avant une temp√™te ?", q6_a: "Les pompes peuvent s'arr√™ter", q6_b: "Pour arroser les plantes", q6_c: "L'eau expire vite", q6_expl: "Conseil : Sans √©lectricit√©, les pompes √† eau peuvent cesser de fonctionner.",

    btnCheck: "V√©rifier mes r√©ponses", aboutTitle: "√Ä Propos", aboutText: "Ce mod√®le interactif utilise le Bleu Royal, le Gris Clair et le Vert S√©curit√©.",
    footer: "¬© 2025 Mod√®le Interactif Pannes de Courant | HTML, CSS & JavaScript", mascotTip: "Cliquez sur les cartes pour des conseils ! ‚ö°",
    costPrefix: "Co√ªt env. Rs", costSuffix: "/ mois",
    riskLow: "üü¢ Faible usage (√âconome en √©nergie)", riskNormal: "üü° Usage normal (Moyenne Maurice)",
    riskHigh: "üü† Usage √©lev√©", riskVeryHigh: "üî¥ Tr√®s √©lev√© (Facture ch√®re)",
    compareAbove: "kWh au-dessus de la moyenne", compareBelow: "kWh en dessous de la moyenne"
  }
};

let currentLang = 'en';

function toggleLanguage() {
  currentLang = currentLang === 'en' ? 'fr' : 'en';
  document.querySelectorAll('[data-i18n]').forEach(el => {
    const key = el.getAttribute('data-i18n');
    if (translations[currentLang][key]) {
      el.textContent = translations[currentLang][key];
    }
  });
  calcAll();
}

/* ===============================
   UI INTERACTIONS
================================*/
const mascot = document.querySelector(".mascot");
const tip = document.querySelector(".mascot-tip");
mascot.addEventListener("click", () => { tip.style.display = tip.style.display === "block" ? "none" : "block"; });
document.querySelectorAll(".card").forEach(card => { card.addEventListener("click", () => { card.classList.toggle("expanded"); }); });

/* ===============================
   QUIZ LOGIC
================================*/
document.getElementById("checkAnswers").addEventListener("click", () => {
  let score = 0; let total = 6; 
  document.querySelectorAll('.option-label').forEach(l => { l.classList.remove('correct-answer', 'wrong-answer'); });
  document.querySelectorAll('.quiz-explanation').forEach(e => e.style.display = 'none');

  function checkQuestion(name, correctId, explanationId) {
    const selected = document.querySelector(`input[name="${name}"]:checked`);
    const correctLabel = document.getElementById(correctId);
    const expl = document.getElementById(explanationId);
    
    // Always show explanation after checking
    expl.style.display = "block";

    if (selected) {
      const userLabel = selected.parentElement;
      if (selected.value === "correct") { userLabel.classList.add('correct-answer'); return 1; } 
      else { userLabel.classList.add('wrong-answer'); correctLabel.classList.add('correct-answer'); return 0; }
    } else {
      correctLabel.classList.add('correct-answer'); return 0;
    }
  }
  score += checkQuestion('q1', 'q1-correct', 'q1-explain');
  score += checkQuestion('q2', 'q2-correct', 'q2-explain');
  score += checkQuestion('q3', 'q3-correct', 'q3-explain');
  score += checkQuestion('q4', 'q4-correct', 'q4-explain');
  score += checkQuestion('q5', 'q5-correct', 'q5-explain');
  score += checkQuestion('q6', 'q6-correct', 'q6-explain');

  const fb = document.getElementById("feedback");
  fb.style.display = "block";
  if (currentLang === 'en') {
    if (score === total) { fb.textContent = "Perfect! ‚úÖ You're prepared!"; fb.style.background = "var(--mint)"; } 
    else { fb.textContent = `You got ${score}/${total}. Review the explanations above.`; fb.style.background = "#fff6c7"; }
  } else {
    if (score === total) { fb.textContent = "Parfait ! ‚úÖ Vous √™tes pr√™t !"; fb.style.background = "var(--mint)"; } 
    else { fb.textContent = `Vous avez ${score}/${total}. Regardez les conseils ci-dessus.`; fb.style.background = "#fff6c7"; }
  }
});

// Sparks & Mascot Pop
function createElectricSpark() {
  const spark = document.createElement('div'); spark.className = 'electric-spark';
  spark.style.left = Math.random() * window.innerWidth + 'px'; spark.style.top = Math.random() * window.innerHeight + 'px';
  const size = Math.random() * 6 + 4; spark.style.width = size + 'px'; spark.style.height = size + 'px';
  document.body.appendChild(spark); setTimeout(() => spark.remove(), 400);
}
setInterval(() => { if (Math.random() < 0.5) createElectricSpark(); }, 300);
setInterval(() => { if (Math.random() < 0.7) { mascot.style.transition = `transform 0.5s ease-out`; mascot.style.transform = `translateY(-25px)`; setTimeout(() => { mascot.style.transform = `translateY(0)`; }, 500); } }, 4000);

/* ===============================
   SIMULATOR LOGIC
================================*/
const simElements = {
  fanSlider: document.getElementById('fanSlider'), fanValue: document.getElementById('fanValue'), fanKwh: document.getElementById('fanKwh'), fanEquivalent: document.getElementById('fanEquivalent'),
  showerSlider: document.getElementById('showerSlider'), showerValue: document.getElementById('showerValue'), showerKwh: document.getElementById('showerKwh'), showerEquivalent: document.getElementById('showerEquivalent'),
  fridgeSlider: document.getElementById('fridgeSlider'), fridgeValue: document.getElementById('fridgeValue'), fridgeKwh: document.getElementById('fridgeKwh'), fridgeEquivalent: document.getElementById('fridgeEquivalent'),
  acSlider: document.getElementById('acSlider'), acValue: document.getElementById('acValue'), acKwh: document.getElementById('acKwh'), acEquivalent: document.getElementById('acEquivalent'),
  ovenSlider: document.getElementById('ovenSlider'), ovenValue: document.getElementById('ovenValue'), ovenKwh: document.getElementById('ovenKwh'), ovenEquivalent: document.getElementById('ovenEquivalent'),
  washSlider: document.getElementById('washSlider'), washValue: document.getElementById('washValue'), washKwh: document.getElementById('washKwh'), washEquivalent: document.getElementById('washEquivalent'),
  dishSlider: document.getElementById('dishSlider'), dishValue: document.getElementById('dishValue'), dishKwh: document.getElementById('dishKwh'), dishEquivalent: document.getElementById('dishEquivalent'),
  stoveSlider: document.getElementById('stoveSlider'), stoveValue: document.getElementById('stoveValue'), stoveKwh: document.getElementById('stoveKwh'), stoveEquivalent: document.getElementById('stoveEquivalent'),
  pumpSlider: document.getElementById('pumpSlider'), pumpValue: document.getElementById('pumpValue'), pumpKwh: document.getElementById('pumpKwh'), pumpEquivalent: document.getElementById('pumpEquivalent'),
  totalKwh: document.getElementById('totalKwh'), riskLevel: document.getElementById('riskLevel'), resultsBox: document.getElementById('resultsBox'), compareText: document.getElementById('compareText'),
  totalValue: document.getElementById('TotalEquivalent')
};

const P = { fan: 0.06, waterHeater: 2.0, fridgeBase: 30, ac: 1.2, oven: 2.0, washPerCycle: 1.0, dishPerCycle: 1.5, stove: 2.0, pump: 0.75 };
const minsToHours = m => m/60; const weeksPerMonth = 4.345; 

function calcAll(){
  const fanH = Number(simElements.fanSlider.value); simElements.fanValue.textContent = fanH;
  const showerMin = Number(simElements.showerSlider.value); simElements.showerValue.textContent = showerMin;
  const fridgeLevel = Number(simElements.fridgeSlider.value); simElements.fridgeValue.textContent = fridgeLevel;
  const acH = Number(simElements.acSlider.value); simElements.acValue.textContent = acH;
  const ovenMin = Number(simElements.ovenSlider.value); simElements.ovenValue.textContent = ovenMin;
  const washPerWeek = Number(simElements.washSlider.value); simElements.washValue.textContent = washPerWeek;
  const dishPerWeek = Number(simElements.dishSlider.value); simElements.dishValue.textContent = dishPerWeek;
  const stoveMin = Number(simElements.stoveSlider.value); simElements.stoveValue.textContent = stoveMin;
  const pumpMin = Number(simElements.pumpSlider.value); simElements.pumpValue.textContent = pumpMin;

  const fan_kwh = P.fan * fanH * 30;
  const shower_kwh = P.waterHeater * minsToHours(showerMin) * 30; 
  const fridge_kwh = P.fridgeBase + Math.max(0, fridgeLevel - 3) * 5; 
  const ac_kwh = P.ac * acH * 30;
  const oven_kwh = P.oven * minsToHours(ovenMin) * 30;
  const wash_kwh = P.washPerCycle * (washPerWeek * weeksPerMonth);
  const dish_kwh = P.dishPerCycle * (dishPerWeek * weeksPerMonth);
  const stove_kwh = P.stove * minsToHours(stoveMin) * 30;
  const pump_kwh = P.pump * minsToHours(pumpMin) * 30;

  simElements.fanKwh.textContent = fan_kwh.toFixed(2);
  simElements.showerKwh.textContent = shower_kwh.toFixed(2);
  simElements.fridgeKwh.textContent = fridge_kwh.toFixed(2);
  simElements.acKwh.textContent = ac_kwh.toFixed(2);
  simElements.ovenKwh.textContent = oven_kwh.toFixed(2);
  simElements.washKwh.textContent = wash_kwh.toFixed(2);
  simElements.dishKwh.textContent = dish_kwh.toFixed(2);
  simElements.stoveKwh.textContent = stove_kwh.toFixed(2);
  simElements.pumpKwh.textContent = pump_kwh.toFixed(2);

  const cebRate = 6.5; const t = translations[currentLang];

  simElements.fanEquivalent.textContent    = `‚âà üí∞ ${t.costPrefix} ${(fan_kwh * cebRate).toFixed(2)} ${t.costSuffix}`;
  simElements.showerEquivalent.textContent = `‚âà üí∞ ${t.costPrefix} ${(shower_kwh * cebRate).toFixed(2)} ${t.costSuffix}`;
  simElements.fridgeEquivalent.textContent = `‚âà üí∞ ${t.costPrefix} ${(fridge_kwh * cebRate).toFixed(2)} ${t.costSuffix}`;
  simElements.acEquivalent.textContent     = `‚âà üí∞ ${t.costPrefix} ${(ac_kwh * cebRate).toFixed(2)} ${t.costSuffix}`;
  simElements.ovenEquivalent.textContent   = `‚âà üí∞ ${t.costPrefix} ${(oven_kwh * cebRate).toFixed(2)} ${t.costSuffix}`;
  simElements.washEquivalent.textContent   = `‚âà üí∞ ${t.costPrefix} ${(wash_kwh * cebRate).toFixed(2)} ${t.costSuffix}`;
  simElements.dishEquivalent.textContent   = `‚âà üí∞ ${t.costPrefix} ${(dish_kwh * cebRate).toFixed(2)} ${t.costSuffix}`;
  simElements.stoveEquivalent.textContent  = `‚âà üí∞ ${t.costPrefix} ${(stove_kwh * cebRate).toFixed(2)} ${t.costSuffix}`;
  simElements.pumpEquivalent.textContent   = `‚âà üí∞ ${t.costPrefix} ${(pump_kwh * cebRate).toFixed(2)} ${t.costSuffix}`;

  const total = fan_kwh + shower_kwh + fridge_kwh + ac_kwh + oven_kwh + wash_kwh + dish_kwh + stove_kwh + pump_kwh;
  simElements.totalKwh.textContent = total.toFixed(2);
  
  simElements.totalValue.textContent = `‚âà ${t.totalBill} Rs ${(total * cebRate).toFixed(2)}`;

  updateRiskLevel(total);
  const mauAvg = 190; const diff = Math.round(total - mauAvg);
  simElements.compareText.textContent = diff >= 0 ? `‚ñ≤ ${diff} ${t.compareAbove} (${mauAvg} kWh)` : `‚ñº ${Math.abs(diff)} ${t.compareBelow} (${mauAvg} kWh)`;
}

function updateRiskLevel(total){
  const box = simElements.resultsBox;
  const label = simElements.riskLevel;
  const t = translations[currentLang];
  if (total < 120){ box.style.background = '#d5f8d5'; label.style.color = '#0a7a0a'; label.textContent = t.riskLow; }
  else if (total < 170){ box.style.background = '#fff6c7'; label.style.color = '#c19700'; label.textContent = t.riskNormal; }
  else if (total < 230){ box.style.background = '#ffe1b3'; label.style.color = '#c26b00'; label.textContent = t.riskHigh; }
  else { box.style.background = '#ffcccc'; label.style.color = '#b30000'; label.textContent = t.riskVeryHigh; }
}

const sliders = ['fanSlider','showerSlider','fridgeSlider','acSlider','ovenSlider','washSlider','dishSlider','stoveSlider','pumpSlider'];
sliders.forEach(id => { const el = document.getElementById(id); if(el) el.addEventListener('input', calcAll); });
calcAll();
</script>
</body>
</html>